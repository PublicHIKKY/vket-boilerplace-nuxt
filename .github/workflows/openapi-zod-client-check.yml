name: <openapi-zod-client> Check by lint, type-check, and test

on:
  pull_request:
    types: [opened, reopened, synchronize, review_requested, ready_for_review]
    branches: ['develop']

jobs:
  build:
    runs-on: ubuntu-latest
    name: Check
    steps:
      - uses: actions/checkout@v4
      - uses: oven-sh/setup-bun@v2

      - name: Setup
        run: |
          bun install
          cd layers/openapi-zod-client && bun install

      - name: Lint
        run: cd layers/openapi-zod-client && bun lint

      - name: TypeCheck
        run: cd layers/openapi-zod-client && bun typecheck

      - name: Test
        run: cd layers/openapi-zod-client && bun test:ut
